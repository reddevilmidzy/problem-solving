# [Platinum IV] 완벽한 선거! - 3747 

[문제 링크](https://www.acmicpc.net/problem/3747) 

### 성능 요약

메모리: 458812 KB, 시간: 3708 ms

### 분류

2-sat, 그래프 이론, 강한 연결 요소

### 문제 설명

<p>어떤 나라에서는 (뭔 나라인지는 기억이 안 나지만), 후보 {1, 2 ... N}이 나와서 국회의원 선거를 치루고 있다. 여론조사에서는 사람들마다 "만약 두 후보 i, j에 대해서, 그 두 후보의 선거 결과가 어떻게 나오면 행복할 것 같으세요?" 라고 물어봤다. 이 질문에 대한 가능한 답변은 밑의 표에 나와있고, i와 j가 동일할 수도 있다.</p>

<p>우리는 M개의 가능한 답변의 리스트를 가지고 있고, 이 M개의 답변 중 비슷하거나 동일한 것이 있을 수도 있다. 만약에 이 M개의 답변을 동시에 만족하는 선거 결과가 있다면, 이 선거 결과를 완벽하다고 한다. (다만, 후보 {1, 2 ... N}이 모두 당선되거나 모두 낙선될 수도 있고, 이 중 일부만 당선될 수도 있다!)</p>

<p>우리가 할 일은 M개의 답변에 대해서 완벽한 선거 결과가 있으면 1을, 아니면 0을 출력하는 것이다.</p>

<p>아래의 표는 설문조사의 결과가 어떻게 들어오는 지를 알려준다.</p>

<table class="table table-bordered">
	<tbody>
		<tr>
			<td><strong>여론조사에서 가능한 답변</strong></td>
			<td><strong>입력 양식</strong></td>
		</tr>
		<tr>
			<td>나는 i와 j 둘 중 한 명은 당선되었으면 좋겠어.</td>
			<td>+i +j</td>
		</tr>
		<tr>
			<td>난 i랑 j 둘 중 한 명은 떨어졌으면 좋겠어.</td>
			<td>-i -j</td>
		</tr>
		<tr>
			<td>난 i가 붙거나 j가 떨어지거나, 둘 다 만족했음 좋겠어.</td>
			<td>+i -j</td>
		</tr>
		<tr>
			<td>난 j가 붙거나 i가 떨어지거나, 둘 다 만족했음 좋겠어.</td>
			<td>-i +j</td>
		</tr>
	</tbody>
</table>

### 입력 

 <p>각 테스트 케이스는 두 수 N과 M을 입력받으며 시작한다. (1≤N≤1000, 1≤M≤1000000) 그리고 이어서 M개의 순서쌍 ±i ±j 가 주어진다. (1≤i,j≤N) 각 순서쌍은 위의 표대로 해석하면 된다.</p>

<p>각 입력 값들은 공백으로 구분되며, 입력의 끝에는 EOF(End of File)가 주어진다.</p>

### 출력 

 <p>각 테스트 케이스에 대해서 완벽한 선거 결과가 존재하는지 출력한다. 선거 결과는 매 줄마다 하나씩 출력하며, 출력하는 중간에 빈 줄이 존재해서는 안 된다.</p>

<p>입출력 예시는 아래와 같다.</p>

